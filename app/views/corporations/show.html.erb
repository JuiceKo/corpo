<div class="container mx-auto px-4">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-3xl font-bold">Adhérents</h1>
    <%= link_to "Retour à l'accueil", root_path, class: "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" %>
  </div>

  <%= search_form_for @q, url: corporation_path(@corporation), html: { class: "search-form mb-6" } do |f| %>
    <div class="flex">
      <%= f.search_field :nom_or_numero_adherent_cont, placeholder: "Rechercher par nom ou numéro adhérent", class: "search-field w-full px-4 py-2 rounded border border-gray-300" %>
      <%= f.submit "Rechercher", class: "search-button bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 ml-2" %>
    </div>
  <% end %>

  <% @adherents.each do |adherent| %>
    <script src="<%= asset_path('index_corporations.js') %>"></script>
    <div class="bg-white shadow-md rounded-lg p-6 mb-6">
      <div class="mb-6 border-b border-gray-300 pb-6">
        <h2 class="text-xl font-semibold mb-2"><%= adherent.nom %></h2>
        <p class="text-gray-600 mb-2"><%= adherent.numero_adherent %></p>

        <%= select_tag "form-year-#{adherent.id}", options_for_select(adherent.formulaires.pluck(:annee)), class: "form-select block w-full mt-1 mb-4 year-select", data: { "corporation-id" => @corporation.id, "adherent-id" => adherent.id } %>

        <%= link_to "Voir", "#", id: "voir-link-#{adherent.id}", class: "voir-link bg-blue-500 text-white font-bold py-2 px-4 mt-6 rounded", data: { "adherent-id" => adherent.id } %>
      </div>
    </div>
  <% end %>
</div>

